<?xml version="1.0" encoding="UTF-8"?>
<Schema xmlns:UserShape="http://ex.example/#UserShape" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="file:/Users/mrf7578/Development/git/hsolbrig/shexypy/static/xsd/ShEx.xsd" start="IssueShape" exclude-prefixes="xsi shex" xmlns:ex="http://ex.example/" xmlns:foaf="http://xmlns.com/foaf/" xmlns:rdfs="http://www.w3.org/2000/01/rdf-schem" default-namespace="http://ex.example/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns" xmlns="http://www.w3.org/shex/">
    <startActions>
        <action>
            <codeDecl iri="ex:foo"> initializer for ignored extension </codeDecl>
        </action>
    </startActions>
    <shape label="IssueShape">
        <group>
            <group min="0">
                <tripleConstraint predicate="ex:reproducedBy" objectShape=":EmployeeShape" objectType="NONLITERAL"/>
                <tripleConstraint predicate="ex:reproducedOn" datatype="xsd:dateTime"/>
            </group>
                <tripleConstraint predicate="http://www.w3.org/1999/02/22-rdf-syntax-ns#type" object="ex:Issue" min="0"/>
                <tripleConstraint predicate="ex:state">
                    <objectConstraint>
                        <valueSet>
                            <iriRange stem="true" base="ex:state">
                                <exclusion base="ex:state_resolved"/>
                            </iriRange>
                        </valueSet>
                    </objectConstraint>
                    <annotation iri="rdfs:label">
                        <literal>State</literal>
                    </annotation>
                    <annotation iri="rdfs:description">
                        <literal>the sit</literal>
                    </annotation>
                </tripleConstraint>
                    <tripleConstraint predicate="ex:reportedBy" objectShape="UserShape" objectType="IRI"/>
                    <tripleConstraint predicate="ex:reportedOn" datatype="xsd:dateTime"/>
                    <tripleConstraint max="unbounded" predicate="ex:related" objectShape="IssueShape" min="0"/>
                    <actions>
                        <action>
                            <codeDecl iri="ex:foo"> asdfasdf </codeDecl>
                        </action>
                    </actions>
                </group>
            </shape>
            <shape label="UserShape:">
                <group>
                    <someOf>
                        <group>
                            <tripleConstraint max="unbounded" predicate="foaf:givenName" datatype="xsd:string"/>
                            <tripleConstraint predicate="foaf:familyName" datatype="xsd:string"/>
                        </group>
                            <tripleConstraint predicate="foaf:name" datatype="xsd:string"/>
                        </someOf>
                        <tripleConstraint predicate="foaf:mbox" objectType="IRI">
                            <objectConstraint>
                                <facet>
                                    <pattern>^mailto:</pattern>
                                </facet>
                            </objectConstraint>
                        </tripleConstraint>
                            <tripleConstraint predicate="ex:id" objectShape="_:IDshape" objectType="BNODE"/>
                        </group>
                    </shape>
                    <shape label=":EmployeeShape">
                        <group>
                            <tripleConstraint max="unbounded" predicate="foaf:givenName" datatype="xsd:string"/>
                            <tripleConstraint predicate="foaf:familyName" datatype="xsd:string"/>
                            <tripleConstraint max="unbounded" predicate="foaf:phone" objectType="IRI" min="0"/>
                            <tripleConstraint predicate="foaf:mbox" objectType="IRI" min="0"/>
                        </group>
                    </shape>
                    <shape virtual="true" label="_:IDshape">
                        <someOf>
                            <group>
                                <tripleConstraint predicate="ex:code" objectType="LITERAL"/>
                                <tripleConstraint predicate="ex:system" objectType="IRI"/>
                                <tripleConstraint max="3" predicate="ex:literal" min="2">
                                    <objectConstraint>
                                        <valueSet>
                                            <rdfLiteral>a</rdfLiteral>
                                            <rdfLiteral datatype="ex:c">b</rdfLiteral>
                                            <rdfLiteral langtag="en">c</rdfLiteral>
                                            <rdfLiteral langtag="en-fr">d</rdfLiteral>
                                        </valueSet>
                                    </objectConstraint>
                                </tripleConstraint>
                                <tripleConstraint predicate="ex:misc" objectType="BNODE" negated="true">
                                    <actions>
                                        <action>
                                            <codeDecl iri="ex:foo"> ignored </codeDecl>
                                        </action>
                                        <action>
                                            <codeDecl iri="ex:bar"> also ignored </codeDecl>
                                        </action>
                                    </actions>
                                </tripleConstraint>
                            </group>
                            <group>
                                <group>
                                    <tripleConstraint predicate="ex:ref">
                                        <subjectConstraint>
                                            <valueSet>
                                                <boolean>true</boolean>
                                                <boolean>false</boolean>
                                            </valueSet>
                                        </subjectConstraint>
                                    </tripleConstraint>
                                        <tripleConstraint predicate="ex:miscRef" inverse="true" negated="true"/>
                                    </group>
                                        <tripleConstraint max="unbounded" predicate="ex:issues" objectShape="ex:IssueShape" min="0"/>
                                        <tripleConstraint max="unbounded" predicate="ex:seeAlso" objectShape="ex:IssueShape" min="0"/>
                                        <tripleConstraint max="unbounded" predicate="ex:says" objectShape=":EmployeeShape" min="0"/>
                                    </group>
                                </someOf>
                            </shape>
                            <shape label="ex:FooID" closed="true">
                                <include ref="_:IDshape"/>
                                <extra ref="ex:code"/>
                                <extra ref="ex:system"/>
                            </shape>
                        </Schema>